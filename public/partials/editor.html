<div class="top-bar">
    <a class="back-button fa fa-arrow-left" ui-sref="profile({name: ui.state.name})"></a>
    <h1>Profiles/{{ui.state.name}}/{{ui.state.file}}</h1>
    <button class="save btn amber-bg"
            ng-click="editor.save()"
            ng-class="{'hide' : !editor.canSave}">Save</button>
    <button class="save btn amber-bg"
            ng-click="editor.confirmSchemaUpdate()"
            ng-class="{'hide' : !editor.schemaDiff.modified}">Update Schema</button>
</div>

<div class="container-view">
    <div class="file-editor-view">
        <div class="file-path-view">
            {{editor.file | fullFilePath}}
        </div>
        <div class="file-selector">
            <select ng-options="item as item.name for item in ui.profiles.list track by item.name" ng-model="ui.profiles.current" ng-change="editor.reload()"></select>

            <div class="select-view">
                <div class="psuedo-select"></div>
                <select ng-options="tile as tile.name for tile in ui.schema.files track by tile.name"  ng-model="editor.file" ng-change="editor.reload()"></select>
            </div>
            
        </div>
        <div class          ="file-overview"
             ng-jsoneditor  ="treeView.onLoad"
             ng-model       ="editor.content"
             options        ="treeView.options"></div>
        <div class          ="code-editor"
             ng-jsoneditor  ="codeView.onLoad"
             ng-model       ="editor.content"
             options        ="codeView.options"></div>

    </div>
</div>

<div ng-show="editor.showSchemaDialog" ng-include="'partials/messages/update-schema.html'"></div>